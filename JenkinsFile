pipeline {
    agent any

    stages {
        stage('Hello') {
            steps {
                echo 'Hello World'
            }
        }
        stage('Build') {
            steps {
                echo 'Building'
                bat '''@ECHO OFF
                g++ Even_Odd.cpp -o SomeName.exe'''
                
            }
        }
        stage('Deploy') {
            steps {
                echo 'Deploying'
                bat '''@echo off'
                md Realease_Timestamp'''
                bat '''@echo off
                move SomeName.exe Realease_Timestamp'''
 
            }
        }
        stage('Test') {
            steps {
                echo 'Testing '
                bat '''echo on
                for /f "tokens=3,2,4 delims=/- " %%x in ("%date%") do set d=%%y%%x%%z
                set data=%d%
                Echo zipping...
                "C:\\Program Files\\7-Zip\\7z.exe" a -tzip "D:\\JenkinsHome\\workspace\\PipelineOne\\Test_Zipping_%d%.zip" "D:\\JenkinsHome\\workspace\\PipelineOne\\Realease_Timestamp"
                echo Done!'''
            }
        }
        stage('Release') {
            steps {
                echo 'Releasing'
                
            }
        }
    }
}
